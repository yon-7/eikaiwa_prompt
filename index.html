<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPTè‹±ä¼šè©±ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆå™¨</title>
    <style>
        body { font-family: "Helvetica Neue", Arial, sans-serif; background: #f4f4f9; color: #333; padding: 20px; max-width: 600px; margin: 0 auto; }
        h1 { text-align: center; font-size: 1.5em; color: #444; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 0.9em; }
        select, input[type="text"] { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; font-size: 16px; }
        .hidden { display: none; }
        .radio-group { display: flex; gap: 10px; margin-bottom: 20px; }
        .radio-label { flex: 1; text-align: center; padding: 10px; background: #e0e0e0; border-radius: 8px; cursor: pointer; user-select: none; }
        input[type="radio"] { display: none; }
        input[type="radio"]:checked + .radio-label { background: #007bff; color: white; font-weight: bold; }
        textarea { width: 100%; height: 250px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; background: #fafafa; font-family: monospace; font-size: 14px; box-sizing: border-box; resize: none; }
        button { width: 100%; padding: 12px; background: #28a745; color: white; border: none; border-radius: 6px; font-size: 1.1em; cursor: pointer; margin-top: 10px; }
        button:hover { background: #218838; }
        .checkbox-wrapper { margin-top: 15px; display: flex; align-items: center; }
        .checkbox-wrapper input { width: auto; margin-right: 10px; transform: scale(1.2); }
    </style>
</head>
<body>

    <h1>ChatGPTè‹±ä¼šè©±ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ</h1>

    <!-- ãƒ¢ãƒ¼ãƒ‰é¸æŠ -->
    <div class="radio-group">
        <label>
            <input type="radio" name="mode" value="roleplay" checked onchange="toggleMode()">
            <span class="radio-label">ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤</span>
        </label>
        <label>
            <input type="radio" name="mode" value="freetalk" onchange="toggleMode()">
            <span class="radio-label">ãƒ•ãƒªãƒ¼ãƒˆãƒ¼ã‚¯</span>
        </label>
    </div>

    <div class="card" id="form-container">
        
        <!-- ãƒ­ãƒ¼ãƒ«ãƒ—ãƒ¬ã‚¤å°‚ç”¨é …ç›® -->
        <div id="roleplay-fields">
            <label>ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ (å ´é¢)</label>
            <select id="situation" onchange="checkCustom('situation')">
                <option value="Ordering a coffee at a cafe">ã‚«ãƒ•ã‚§ã§æ³¨æ–‡</option>
                <option value="Checking in at a hotel">ãƒ›ãƒ†ãƒ«ã®ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³</option>
                <option value="Immigration control at the airport">ç©ºæ¸¯ã®å…¥å›½å¯©æŸ»</option>
                <option value="Buying souvenirs at a gift shop">ãŠåœŸç”£å±‹ã§ã®è²·ã„ç‰©</option>
                <option value="Asking for directions">é“æ¡ˆå†…ã‚’èã</option>
                <option value="Job interview">å°±è·é¢æ¥</option>
                <option value="custom">ãã®ä»– (è‡ªç”±å…¥åŠ›)</option>
            </select>
            <input type="text" id="situation-custom" class="hidden" placeholder="ä¾‹: ç—…é™¢ã§ç—‡çŠ¶ã‚’èª¬æ˜ã™ã‚‹">

            <label>ç›¸æ‰‹(AI)ã®å½¹å‰²</label>
            <select id="ai-role" onchange="checkCustom('ai-role')">
                <option value="Friendly Staff">ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªåº—å“¡</option>
                <option value="Serious Officer">å³æ ¼ãªä¿‚å“¡</option>
                <option value="Kind Stranger">è¦ªåˆ‡ãªé€šè¡Œäºº</option>
                <option value="Interviewer">é¢æ¥å®˜</option>
                <option value="Doctor">åŒ»è€…</option>
                <option value="custom">ãã®ä»– (è‡ªç”±å…¥åŠ›)</option>
            </select>
            <input type="text" id="ai-role-custom" class="hidden" placeholder="ä¾‹: è¿‘æ‰€ã®ä½äºº">

            <label>è‡ªåˆ†ã®å½¹å‰²</label>
            <select id="my-role" onchange="checkCustom('my-role')">
                <option value="Customer/Tourist">å®¢ / è¦³å…‰å®¢</option>
                <option value="Lost Person">é“ã«è¿·ã£ãŸäºº</option>
                <option value="Patient">æ‚£è€…</option>
                <option value="Student">ç”Ÿå¾’</option>
                <option value="custom">ãã®ä»– (è‡ªç”±å…¥åŠ›)</option>
            </select>
            <input type="text" id="my-role-custom" class="hidden" placeholder="ä¾‹: ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’è¨€ã†å®¢">
        </div>

        <!-- ãƒ•ãƒªãƒ¼ãƒˆãƒ¼ã‚¯å°‚ç”¨é …ç›® -->
        <div id="freetalk-fields" class="hidden">
            <label>ãƒˆãƒ¼ã‚¯ãƒ†ãƒ¼ãƒ</label>
            <select id="topic" onchange="checkCustom('topic')">
                <option value="My Hobbies">è¶£å‘³ã«ã¤ã„ã¦</option>
                <option value="Recent Movies/Anime">æœ€è¿‘è¦‹ãŸæ˜ ç”»ãƒ»ã‚¢ãƒ‹ãƒ¡</option>
                <option value="Travel experiences">æ—…è¡Œã®ä½“é¨“</option>
                <option value="Future technology">æœªæ¥ã®æŠ€è¡“ã«ã¤ã„ã¦</option>
                <option value="Daily news">æœ€è¿‘ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹</option>
                <option value="custom">ãã®ä»– (è‡ªç”±å…¥åŠ›)</option>
            </select>
            <input type="text" id="topic-custom" class="hidden" placeholder="ä¾‹: æ—¥æœ¬ã®æ–‡åŒ–ã«ã¤ã„ã¦">
        </div>

        <!-- å…±é€šé …ç›® -->
        <label>è‡ªåˆ†ã®è‹±èªãƒ¬ãƒ™ãƒ«</label>
        <select id="level">
            <option value="Beginner (uses simple words)">åˆç´š (Beginner)</option>
            <option value="Intermediate">ä¸­ç´š (Intermediate)</option>
            <option value="Advanced">ä¸Šç´š (Advanced)</option>
        </select>

        <label>AIã®è©±ã™é€Ÿåº¦ (ãƒœã‚¤ã‚¹ãƒ¢ãƒ¼ãƒ‰æ™‚)</label>
        <select id="speed">
            <option value="slowly and clearly">ã‚†ã£ãã‚Š (Slow)</option>
            <option value="at natural speed">æ™®é€š (Natural)</option>
            <option value="fast">æ—©å£ (Fast)</option>
        </select>

        <div class="checkbox-wrapper">
            <input type="checkbox" id="voice-mode-check" checked onchange="generatePrompt()">
            <label for="voice-mode-check" style="margin-top:0;">ãƒœã‚¤ã‚¹ãƒ¢ãƒ¼ãƒ‰ç”¨å¾…æ©Ÿã‚³ãƒãƒ³ãƒ‰ã‚’å…¥ã‚Œã‚‹</label>
        </div>
    </div>

    <!-- çµæœè¡¨ç¤º -->
    <div class="card">
        <label style="margin-top:0">ç”Ÿæˆã•ã‚ŒãŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ (ã‚³ãƒ”ãƒ¼ã—ã¦ChatGPTã«è²¼ã‚Šä»˜ã‘)</label>
        <textarea id="output" readonly></textarea>
        <button onclick="copyToClipboard()">ğŸ“‹ ã‚³ãƒ”ãƒ¼ã™ã‚‹</button>
    </div>

    <script>
        function toggleMode() {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            if (mode === 'roleplay') {
                document.getElementById('roleplay-fields').classList.remove('hidden');
                document.getElementById('freetalk-fields').classList.add('hidden');
            } else {
                document.getElementById('roleplay-fields').classList.add('hidden');
                document.getElementById('freetalk-fields').classList.remove('hidden');
            }
            generatePrompt();
        }

        function checkCustom(id) {
            const select = document.getElementById(id);
            const input = document.getElementById(id + '-custom');
            if (select.value === 'custom') {
                input.classList.remove('hidden');
            } else {
                input.classList.add('hidden');
            }
            generatePrompt();
        }

        // å…¥åŠ›å¤‰æ›´æ™‚ã«è‡ªå‹•æ›´æ–°
        document.querySelectorAll('select, input').forEach(el => {
            el.addEventListener('input', generatePrompt);
        });

        function getValue(id) {
            const select = document.getElementById(id);
            if (select.value === 'custom') {
                const input = document.getElementById(id + '-custom');
                return input.value || "[æœªå…¥åŠ›]";
            }
            return select.value;
        }

        function generatePrompt() {
            const mode = document.querySelector('input[name="mode"]:checked').value;
            const level = document.getElementById('level').value;
            const speed = document.getElementById('speed').value;
            const useVoiceMode = document.getElementById('voice-mode-check').checked;

            let prompt = "";

            if (mode === 'roleplay') {
                const situation = getValue('situation');
                const aiRole = getValue('ai-role');
                const myRole = getValue('my-role');

                prompt = `# Instruction
I want to practice English conversation through role-playing.
Please act according to the following settings.

# Settings
- **Situation**: ${situation}
- **Your Role**: ${aiRole}
- **My Role**: ${myRole}
- **My English Level**: ${level}

# Rules
1. Speak naturally as your role.
2. **Wait for my response** after every sentence.
3. Keep your responses concise (1-3 sentences).
4. If I make a mistake, please correct it briefly inside parentheses like this: (Correction: ...) after your reply.
5. If using Voice Mode, please speak **${speed}**.`;

            } else {
                const topic = getValue('topic');

                prompt = `# Instruction
I want to have a free conversation about a specific topic to practice English.

# Topic
${topic}

# Settings
- **My English Level**: ${level}
- **Speaking Style**: Friendly and casual.

# Rules
1. Ask me questions to keep the conversation going.
2. Reply with only 1-3 sentences at a time.
3. Correct my grammar or vocabulary mistakes at the end of your response politely.
4. If using Voice Mode, please speak **${speed}**.`;
            }

            if (useVoiceMode) {
                prompt += `\n\n# Start Sequence\n**Do not start the conversation yet.** Just reply with "**Ready**" in text.\nI will switch to Voice Mode and say "**Start**", then you speak the first sentence.`;
            } else {
                if (mode === 'roleplay') {
                    prompt += `\n\nLet's start the role-play. You speak first.`;
                } else {
                    prompt += `\n\nLet's start. Please ask me the first question about the topic.`;
                }
            }

            document.getElementById('output').value = prompt;
        }

        function copyToClipboard() {
            const copyText = document.getElementById("output");
            copyText.select();
            document.execCommand("copy");
            alert("ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼ChatGPTã«è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„ã€‚");
        }

        // åˆæœŸåŒ–
        generatePrompt();
    </script>

</body>
</html>
